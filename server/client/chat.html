<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ß–∞—Ç</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="chat-wrapper">
    <aside class="rooms-sidebar">
      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
      <div class="user-header">
        <div class="avatar">U</div>
        <div class="info">
          <div class="nickname" id="current-user">Username</div>
          <div class="status">Online</div>
        </div>
      </div>

      <!-- –ü–æ–∏—Å–∫ -->
      <div class="search-container">
        <input type="text" id="global-search" placeholder="–ü–æ–∏—Å–∫ –ª—é–¥–µ–π, —á–∞—Ç–æ–≤, —Å–æ–æ–±—â–µ–Ω–∏–π">
        <div class="search-icon">üîç</div>
      </div>

      <!-- –°–µ–∫—Ü–∏—è —á–∞—Ç–æ–≤ -->
      <div class="sidebar-section">
        <div class="section-header" id="chats-header">
          <h2>–ß–∞—Ç—ã</h2>
          <div class="toggle-icon">‚ñº</div>
        </div>
        <div class="section-content" id="chats-content">
          <button id="create-group-btn" class="sidebar-btn">
            <span class="icon">üë•</span> –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
          </button>
          <button id="create-channel-btn" class="sidebar-btn">
            <span class="icon">üì¢</span> –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª
          </button>
          <ul id="rooms-list" class="rooms-list">
            <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </ul>
        </div>
      </div>

      <!-- –°–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ -->
      <div class="sidebar-section">
        <div class="section-header" id="contacts-header">
          <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
          <div class="toggle-icon">‚ñº</div>
        </div>
        <div class="section-content" id="contacts-content">
          <ul id="users-list" class="rooms-list">
            <!-- –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </ul>
        </div>
      </div>

      <!-- –°–µ–∫—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π -->
      <div class="sidebar-section">
        <div class="section-header" id="apps-header">
          <h2>–ú–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
          <div class="toggle-icon">‚ñº</div>
        </div>
        <div class="section-content" id="apps-content">
          <button id="btn-weather" class="sidebar-btn">
            <span class="icon">üå§</span> –ü–æ–≥–æ–¥–∞
          </button>
          <button id="btn-calendar" class="sidebar-btn">
            <span class="icon">üìÖ</span> –ñ—É—Ä–Ω–∞–ª
          </button>
          <button id="btn-finance" class="sidebar-btn">
            <span class="icon">üí∞</span> –§–∏–Ω–∞–Ω—Å—ã
          </button>
        </div>
      </div>

      <!-- –°–µ–∫—Ü–∏—è –∏–≥—Ä -->
      <div class="sidebar-section">
        <div class="section-header" id="games-header">
          <h2>–ò–≥—Ä—ã</h2>
          <div class="toggle-icon">‚ñº</div>
        </div>
        <div class="section-content" id="games-content">
          <button id="btn-strike-game" class="sidebar-btn">
            <span class="icon">üéÆ</span> Galactic Annihilator
          </button>
          <button id="btn-match3-game" class="sidebar-btn">
            <span class="icon">üöÄ</span> Galactic Match-3
          </button>
          <button id="btn-runner-game" class="sidebar-btn">
            <span class="icon">üèÉ</span> –ë–µ–≥—É–Ω–æ–∫
          </button>
        </div>
      </div>

      <!-- –°–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
      <div class="sidebar-section">
        <div class="section-header" id="settings-header">
          <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <div class="toggle-icon">‚ñº</div>
        </div>
        <div class="section-content" id="settings-content">
          <button id="btn-settings" class="sidebar-btn">
            <span class="icon">‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è
          </button>
          <button id="btn-logout" class="sidebar-btn">
            <span class="icon">üö™</span> –í—ã—Ö–æ–¥
          </button>
        </div>
      </div>
    </aside>

<section id="chat-section" class="chat-container">
  <div class="chat-message-area">
    <!-- —à–∞–ø–∫–∞ -->
    <div id="chat-header" class="chat-header">
      <div class="chat-header__left"></div>
  <div class="chat-header__actions">
    <button id="add-member-btn" class="icon-btn chat-header__call-btn" title="–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤">‚ûï</button>
    <button id="call-btn"       class="icon-btn chat-header__call-btn">‚òéÔ∏è</button>
  </div>
    </div>

    <!-- –æ–∫–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–π -->
    <div id="chat-box" class="chat-box"></div>
  </div>

  <!-- –æ–±—ë—Ä—Ç–∫–∞, –≤–Ω—É—Ç—Ä–∏ –ª–∏–±–æ –ø–æ–ª–µ –≤–≤–æ–¥–∞, –ª–∏–±–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ -->
  <div id="chat-input-wrapper">
    <!-- –ø–æ–ª–µ –≤–≤–æ–¥–∞ -->
    <div class="input-container" id="input-container">
      <button id="attach-btn" class="icon-btn">üìé</button>
      <textarea id="message" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
      <button id="send-btn" class="icon-btn">‚û§</button>
      <button id="voice-btn" class="icon-btn">üé§</button>
    </div>

    <!-- –ø–æ–¥—Å–∫–∞–∑–∫–∞ -->
    <p class="readonly-note" id="readonly-note" style="display: none;">
      –≠—Ç–æ –∫–∞–Ω–∞–ª. –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –º–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.
    </p>
  </div>
</section>

  </div>


  <!-- Lightbox Overlay -->
  <div id="lightbox-overlay" class="hidden">
    <div id="lightbox-content">
      <button id="lightbox-close">‚úï</button>
      <button id="lightbox-download">‚§ì</button>
      <img id="lightbox-image" src="" alt="Preview">
    </div>
  </div>
  <!-- –û–∫–Ω–æ –∑–≤–æ–Ω–∫–∞ -->
  <div id="call-window" class="call-window hidden">
    <div class="call-header">
      <span id="call-title">–ó–≤–æ–Ω–æ–∫ —Å ...</span>
    </div>
    <div class="call-body">
      <div id="call-status">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
      <div id="call-timer">00:00</div>
      <audio id="remote-audio" autoplay></audio>
      <div class="call-controls">
        <button id="call-answer" class="action-btn">–û—Ç–≤–µ—Ç–∏—Ç—å</button>
        <button id="call-cancel" class="action-btn cancel">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <div id="group-modal" class="hidden">
  <div class="modal-overlay"></div>
  <div class="modal-window">
    <h3>–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞</h3>
    <div id="group-name-wrapper">
      <label>
        –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã:
        <input type="text" id="group-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
      </label>
    </div>
    <label>
      –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
      <input type="text" id="group-user-search" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∏–∫–∞–º">
    </label>
    <ul id="group-user-suggestions" class="suggestions-list"></ul>
    <div id="group-selected-users" class="selected-list"></div>
    <div class="modal-actions">
      <button id="group-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
      <button id="group-create-btn">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </div>
</div>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ -->
<div id="add-member-modal" class="hidden">
  <div class="modal-overlay"></div>
  <div class="modal-window">
    <h3>–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h3>
    <label>
      –ü–æ–∏—Å–∫ –ø–æ –Ω–∏–∫–∞–º:
      <input type="text" id="add-user-search" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫">
    </label>
    <ul id="add-user-suggestions" class="suggestions-list"></ul>
    <div id="add-selected-users" class="selected-list"></div>
    <div class="modal-actions">
      <button id="add-cancel-btn">–û—Ç–º–µ–Ω–∞</button>
      <button id="add-confirm-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
  </div>
</div>
  <iframe
    id="scheduler-frame"
    src="/miniapps/calendar/index.html"
    style="display:none;"
    allow="autoplay; notifications"
  ></iframe>
<!-- –í –≤–∞—à–µ–º index.html –∏–ª–∏ —à–∞–±–ª–æ–Ω–µ -->
<div id="modal" style="display:none;">
  <div id="modal-content">
    <span id="modal-close">&times;</span>
    <iframe
      id="modal-frame"
      src=""
      allow="autoplay; notifications"
      style="border: none; width:100%; height:100%;"
    ></iframe>
  </div>
</div>

  <div id="game-modal" class="modal">
  <div class="modal-content game-modal-content">
    <span class="close-game">&times;</span>
    <iframe id="game-frame" class="game-frame"></iframe>
  </div>
</div>

<!-- –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º body -->
<div id="settings-modal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close-modal" id="settings-close">&times;</span>
    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h3>
    <form id="settings-form">
      <div class="form-group">
        <label for="settings-nickname">–ù–∏–∫–Ω–µ–π–º</label>
        <input type="text" id="settings-nickname" required>
      </div>
      <div class="form-group">
        <label for="settings-bio">–ë–∏–æ</label>
        <textarea id="settings-bio" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ"></textarea>
      </div>
      <div class="form-group">
        <label for="settings-birthdate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
        <input type="date" id="settings-birthdate">
      </div>
<!-- –ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –Ω–∞ —ç—Ç–æ—Ç -->
<div class="theme-switch-wrapper">
  <span class="theme-label">–°–≤–µ—Ç–ª–∞—è</span>
  
  <label class="theme-switch">
    <input type="checkbox" id="theme-toggle" hidden>
    <span class="slider">
      <span class="sun-icon">‚òÄÔ∏è</span>
      <span class="moon-icon">üåô</span>
      <span class="slider-ball"></span>
    </span>
  </label>
  
  <span class="theme-label">–¢—ë–º–Ω–∞—è</span>
</div>
     <!-- –í–Ω—É—Ç—Ä–∏ settings-modal, –ø–æ—Å–ª–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π -->
      <div class="form-actions">
        <button type="button" id="settings-cancel">–û—Ç–º–µ–Ω–∞</button>
        <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </form>
  </div>
</div>
  <script src="chat.js"></script>
</body>
</html>
